<!-- header start -->
<app-header [menuName]="'Review'"></app-header>

<!-- root start -->
<div class="root">
    <div class="rating-container">
        <div class="d-flex">
            <div class="image-container">
                <img class="display-profile" [src]="lawyer?.lawyerImage"
                    onerror="this.onerror=null,this.src='../../../assets/images/image/no-image.png'">
            </div>

            <div class="detail">
                <div class="name">{{lawyer?.lawyerName}}</div>
                <div class="type">{{lawyer?.lawyerType}}</div>
            </div>
        </div>
        <div class="rating-detail">
            <div class="rating">{{lawyer?.totalAvgRating}}</div>
            <div class="rating-img"><star-rating [starType]="'svg'" [rating]="lawyer?.totalAvgRating"
                    [readOnly]="true"></star-rating>
            </div>
            <div class="rating-count">Based on {{lawyer?.totalNumberOfRatings}} Review</div>
        </div>

        <div class="advovate-info">
            <div class="d-flex">
                <div class="advocate-detail">Legal Knowledge</div>
                <div class="container">
                    <div class="progress">
                        <div class="progress-bar" role="progressbar"
                            [attr.aria-valuenow]="lawyer?.totalAvgLegalKnowledge*20" aria-valuemin="0"
                            aria-valuemax="100" [ngStyle]="{'width':((lawyer?.totalAvgLegalKnowledge*20)+'%')}">
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex">
                <div class="advocate-detail">Legal Analysis</div>
                <div class="container">
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" [attr.aria-valuenow]="lawyer.totalAvgLegalAnalysis"
                            aria-valuemin="0" aria-valuemax="100"
                            [ngStyle]="{'width':((lawyer?.totalAvgLegalAnalysis*20)+'%')}">
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex">
                <div class="advocate-detail">Communication Skills</div>
                <div class="container">
                    <div class="progress">
                        <div class="progress-bar" role="progressbar"
                            [attr.aria-valuenow]="lawyer.totalAvgcommunicationSkills" aria-valuemin="0"
                            aria-valuemax="100" [ngStyle]="{'width':((lawyer?.totalAvgcommunicationSkills*20)+'%')}">
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex">
                <div class="advocate-detail">Ethics and Professionalism</div>
                <div class="container">
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" [attr.aria-valuenow]="lawyer.totalAvgEnP"
                            aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width':((lawyer?.totalAvgEnP*20)+'%')}">
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>
    <hr>
    <div style="height: calc(100vh - 300px)">
        <ng-scrollbar autoHeightDisabled="false" appearance="standard">
            <div class="rating-btn" (click)="isRatingAdd = !isRatingAdd" *ngIf="!isRatingAdd"><button mat-raised-button
                    color="primary w-100">Rating</button></div>


            <div class="add-rating" *ngIf="isRatingAdd">
                <div>Add Overall Rating</div>
                <div class="disabled-star mt-2"><star-rating [starType]="'svg'" [rating]="2.63"
                        [readOnly]="true"></star-rating></div>
                <div class="add-overall-rating">
                    <div class="d-flex">
                        <div class="rating-criteria">Legal Knowledge</div>
                        <div class="star-content"><star-rating [starType]="'svg'" [rating]="1"></star-rating></div>
                    </div>

                    <div class="d-flex mt-1">
                        <div class="rating-criteria">Legal Analysis</div>
                        <div class="star-content"><star-rating [starType]="'svg'" [rating]="2.63"></star-rating></div>
                    </div>

                    <div class="d-flex mt-1">
                        <div class="rating-criteria">Communication Skills</div>
                        <div class="star-content"><star-rating [starType]="'svg'" [rating]="2.63"></star-rating></div>
                    </div>

                    <div class="d-flex mt-1">
                        <div class="rating-criteria">Ethics and Professionalism</div>
                        <div class="star-content"><star-rating [starType]="'svg'" [rating]="2.63"></star-rating></div>
                    </div>
                </div>
                <div class="submit-btn"><button mat-raised-button color="primary" type="submit"
                        (click)="addReviews()">Submit</button></div>
            </div>

            <div class="rating-list" *ngFor="let rating of ratingList">
                <div class="rating-list-content">
                    <div class="d-flex">
                        <div class="image"><img [src]="rating.image"
                                onerror="this.onerror=null,this.src='../../../assets/images/image/no-image.png'" />
                        </div>
                        <div class="ms-3">
                            <div class="name">{{rating.name}}</div>
                            <div class="group-star"><star-rating [starType]="'svg'" [rating]="rating.overallRating"
                                    [readOnly]="true"></star-rating>
                                <span class="ms-1" style="font-weight: 500;">{{rating.overallRating}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="days">{{rating.createdAt}}</div>
                </div>
                <hr>
            </div>
        </ng-scrollbar>
    </div>
</div>